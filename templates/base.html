<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Linda Shamba{% endblock %}</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    <header class="header">
      <div class="header-inner">
        <!-- ✅ Logo (clickable on small screens) -->
        <div class="logo" id="logo">
          <img
            src="{{ url_for('static', filename='images/Kulinda.png') }}"
            alt="Kulinda Shamba Logo"
          />
          <div class="logo-text">
            <h1>LINDA SHAMBA</h1>
            <p>Wildlife Detection & Farm Protection</p>
          </div>
        </div>

        <!-- ✅ Nav + toggle button -->
        <div class="nav-container">
          <button id="nav-toggle" class="nav-toggle">&#9776;</button>
          <nav id="main-nav" class="main-nav">
            <a
              href="/dashboard"
              class="{{ 'active' if request.path == '/dashboard' else '' }}"
              >Dashboard</a
            >
            <a
              href="/detect"
              class="{{ 'active' if request.path == '/detect' else '' }}"
              >Detection</a
            >
            <a
              href="/upload"
              class="{{ 'active' if request.path == '/upload' else '' }}"
              >Predict</a
            >
            <a
              href="/register-farmer"
              class="{{ 'active' if request.path == '/register-farmer' else '' }}"
              >Register</a
            >
            <a
              href="/sms"
              class="{{ 'active' if request.path == '/sms' else '' }}"
              >SMS Alerts</a
            >
            <a
              href="/log"
              class="{{ 'active' if request.path == '/log' else '' }}"
              >Logs</a
            >
            <a
              href="/feedback"
              class="{{ 'active' if request.path == '/feedback' else '' }}"
              >Feedback</a
            >
            <a
              href="/profile"
              class="{{ 'active' if request.path == '/profile' else '' }}"
              >Profile</a
            >
            <a href="/logout">Logout</a>
          </nav>
        </div>
      </div>
    </header>

    <main class="content">
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %}
      <div class="flash-messages">
        {% for category, message in messages %}
        <div class="flash flash-{{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %} {% endwith %} {% block content %}{% endblock %}
    </main>

    <!-- ✅ JS for sidebar and logo-text toggle -->
    <script>
      const toggleBtn = document.getElementById("nav-toggle");
      const nav = document.getElementById("main-nav");
      toggleBtn.addEventListener("click", () => {
        nav.classList.toggle("show");
      });

      const logo = document.getElementById("logo");
      logo.addEventListener("click", () => {
        logo.classList.toggle("show-text");
      });
    </script>
  </body>
</html>
